# íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…

### 1. íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…

![Alt text](image.png)

/pages í´ë”ì•ˆì— ì¼ë°˜ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ë©´ Nextê°€ ì„¤ì •ëœ í´ë” êµ¬ì¡°ë¡œë¶€í„° í”„ë¡œì íŠ¸ì˜ ë¼ìš°íŠ¸ë¥¼ ë„ì¶œí•˜ëŠ” ë°©ë²•

- ğŸ§ ì™œ íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…ì´ ìœ ìš©í•¨?
    <aside>
    ğŸ’¡ file based routing ì¥ì 
    
    - ê° í˜ì´ì§€ëŠ” í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ë‚´ì— ë³„ë„ì˜ íŒŒì¼ë¡œ í‘œí˜„ë˜ê¸°ì— ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°ê°€ ê°„ë‹¨í•´ì§€ê³  ì§ê´€ì ì„
    - nextì˜ file based routingì€ ì„œë²„ ì‚¬ì „ ë Œë”ë§ì„ ì§€ì›í•˜ê¸°ë•Œë¬¸ì— ê° í˜ì´ì§€ëŠ” í•´ë‹¹ í˜ì´ì§€ì— ëŒ€í•œ SEOê´€ë ¨ ë©”íƒ€ë°ì´í„°ì™€ í•¨ê»˜ ì •ì  ìƒì„± ê°€ëŠ¥í•¨
    - nextëŠ” í˜ì´ì§€ ë³„ë„ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ ìë™ìœ¼ë¡œ ìˆ˜í–‰, ì¦‰ í˜ì´ì§€ê°€ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ë¡œë“œ ë˜ë„ë¡í•˜ì—¬ ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì‹œê°„ì„ ë‹¨ì¶•, ì„±ëŠ¥ì„ í–¥ìƒ ì‹œí‚´
    - ë™ì  ë¼ìš°íŒ… ì§€ì›
    - file based routingì€ í˜ì´ì§€ì— ì˜¤ë¥˜ê°€ ìˆëŠ” ê²½ìš° ë¯¸ë¦¬ ê°ì§€ í›„ ê°œë°œìì—ê²Œ ì•Œë ¤ì£¼ê¸° ë•Œë¬¸ì— ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ê°ì§€ í•  ìˆ˜ ìˆë‹¤.
    </aside>

## 2. ì •ì  ë¼ìš°íŠ¸ íŒŒì¼

### 2.1 index ì»´í¬ë„ŒíŠ¸

![Alt text](image-1.png)

Nextì—ì„œ indexëŠ” íŠ¹ì •í•œ íŒŒì¼ëª…ìœ¼ë¡œ, í•´ë‹¹ íŒŒì¼ì„ ê²½ë¡œë¡œ ì¸ì‹í•˜ì§€ ì•Šê³  ì£¼ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶ˆëŸ¬ì™€ ì£¼ì†Œ ë’¤ì— ì•„ë¬´ê²ƒë„ ë¶™ì§€ ì•ŠìŒ

```jsx
my-next-app/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.js   // my-next-app
â”‚   â”œâ”€â”€ about.js.  // my-next-app/about
â”‚   â”œâ”€â”€ contact.js // my-next-app/contact
â”‚   â””â”€â”€ ...
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ styles/
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

### 2.2 ì •ì  ë¼ìš°íŠ¸ íŒŒì¼ ìƒì„±

```jsx
// index.js

function HomePage() {
  return <div>The Home Page</div>;
}

export default HomePage; // ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜ë“œì‹œ ë°˜í™˜í•´ì•¼ Nextê°€ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ë¥¼ í˜ì´ì§€ë¡œ ë Œë”ë§í•´ì•¼ í• ì§€ ì•Œ ìˆ˜ ìˆìŒ
```

### 2.3 ì´ë¦„ì´ ë¶™ì€ ì •ì  ë¼ìš°íŠ¸ íŒŒì¼ ìƒì„±

```jsx
// about.js
// aboutì€ indexì²˜ëŸ¼ íŠ¹ìˆ˜í•œ íŒŒì¼ëª…ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ê²½ë¡œ ë’¤ì— aboutì´ ë¶™ìŒ

function AboutPage() {
  return <div>The About Page</div>;
}

export default AboutPage;
```

## 3. ì¤‘ì²© ê²½ë¡œ & ë¼ìš°íŠ¸

ì—¬ëŸ¬ ì„¸ê·¸ë¨¼íŠ¸ë¡œ êµ¬ì„±ëœ ì¤‘ì²© ê²½ë¡œë¥¼ ì›í• ë•Œ ìš°ì¸¡ê³¼ ê°™ì´ pages í´ë”ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŒ.

```jsx
my-next-app/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ about.js // my-next-app/about
â”‚   â”œâ”€â”€ blog
â”‚   â”‚   â”œâ”€â”€ index.js // my-next-app/blog
â”‚   â”‚   â”œâ”€â”€ [slug].js
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ [id].js
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

## 4. ë™ì  ê²½ë¡œ & ë¼ìš°íŠ¸

ë™ì  ë¼ìš°íŒ…ì„ ìœ„í•´ì„  íŒŒì¼ëª…ì— [ ]ë¥¼ ë¶™ì—¬ì•¼í•¨. ëŒ€ê´„í˜¸ ì•ˆì—ëŠ” ì‹ë³„ìë¥¼ ê¸°ì…. ì‹ë³„ìëŠ” ììœ ë¡­ê²Œ ê¸°ì…í•´ë„ ë˜ì§€ë§Œ ë°˜ë“œì‹œ ì‹ë³„ìë¥¼ ëŒ€ê´„í˜¸ë¡œ ê°ì‹¸ì•¼í•¨.

```jsx
my-next-app/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ about.js
â”‚   â”œâ”€â”€ portfolio/
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚		â”‚	  â”œâ”€â”€ list.js
â”‚   â”‚   â”œâ”€â”€ [projectid].js // my-next-app/project/123
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

```jsx
// PortfolioProjectPage.js

function porfolioPage() {
  return (
    <>
      <h1>The Portfolio Page</h1>
    </>
  );
}

export default porfolioPage;
```

ìœ„ ì½”ë“œì²˜ëŸ¼ íŒŒì¼ëª…ì„ [porfolioPage].js ì„¤ì •í•˜ê³ , ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•˜ë©´ **my-next-app/portfolio/** ì£¼ì†Œ ë’¤ì— ì–´ë–¤ ìˆ«ì, ë¬¸ìë¥¼ ë„£ì–´ë„ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.

ì–´ë–¤ ê°’ì„ ì…ë ¥í•´ë„ ì£¼ì†Œê°€ ìœ íš¨í•œ ì´ìœ ëŠ” [porfolioPage].js ë¼ëŠ” í”Œë ˆì´ìŠ¤í™€ë”ì— ê·¸ ì•ˆì— êµ¬ì²´ì ì¸ ê°’ì„ ì±„ì›Œ ë„£ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ì—¬ê¸°ì„œ ì£¼ì˜í• ì ì€ my-next-app/project ë’¤ì— ì–´ë– í•œ ê°’ë„ ë“¤ì–´ê°ˆ ìˆ˜ ìˆì§€ë§Œ listê°€ ë“¤ì–´ê°„ë‹¤ë©´ list í˜ì´ì§€ë¡œ ì´ë™í•´ë²„ë¦°ë‹¤. ë™ì íŒŒì¼ë³´ë‹¤ ì´ë¯¸ ì •ì˜ëœ ì •ì  ë¼ìš°íŒ… í˜ì´ì§€ íŒŒì¼ì´ ìš°ì„ ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

ê·¸ë ‡ê¸°ë•Œë¬¸ì— ë™ì  ê²½ë¡œë¥¼ ì‚¬ìš©í• ë•ŒëŠ” í”Œë ˆì´ìŠ¤í™€ë”ì— ëŒ€í•œ ê³ ìœ³ê°’ìœ¼ë¡œ ì¸ì‹ë  ìˆ˜ ìˆëŠ” ê°’ì„ í™•ì¸í•˜ë©´ ê·¸ ê°’ì— í•´ë‹¹í•˜ëŠ” ê°’ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê³¼ì •ì„ ì¶”ê°€í•´ì•¼í•œë‹¤.

<aside>
ğŸ¤” í”Œë ˆì´ìŠ¤í™€ë”ë¡œ ìš°ë¦¬ê°€ ì–»ì„ ìˆ˜ ìˆëŠ”ê±´ ë¬´ì—‡ì¼ê¹Œ?

</aside>

ê°€ë ¹ ì˜¨ë¼ì¸ ìŠ¤í† ì–´ ìƒí’ˆì´ë‚˜ ë¸”ë¡œê·¸ ê²Œì‹œê¸€ê°™ì´ ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì•¼í•˜ëŠ” í˜ì´ì§€ë¥¼ ìƒì„±í• ë•Œ ìš°ë¦¬ëŠ” ì»´í¬ë„ŒíŠ¸ì— ì…ë ¥í•œ ì´ë¦„ê³¼ ì¼ì¹˜í•˜ëŠ” êµ¬ì²´ì ì¸ ê³ ìœ³ê°’ì„ ì‚¬ìš©í•´ DBì— ì ‘ê·¼ ê°€ëŠ¥í•´ì§„ë‹¤. ê·¸ëŸ¼ DBì—ì„œ íŒ¨ì¹­í•œ ê³ ìœ  ë°ì´í„°ë¥¼ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ì ìš©í•´ í™”ë©´ì„ ì¶œë ¥í•  ìˆ˜ ìˆìŒ

## 5. ë™ì  ê²½ë¡œ ì„¸ê·¸ë¨¼íŠ¸ ë°ì´í„° ì¶”ì¶œ

<aside>
ğŸ§ ê·¸ë ‡ë‹¤ë©´ ì‚¬ìš©ìê°€ URLì— ì…ë ¥í•œ êµ¬ì²´ì ì€ ê³ ìœ³ê°’ì— ì ‘ê·¼í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ

</aside>

```jsx
// PortfolioProjectPage.js

import { useRouter } from "next/router";
// 1. Nextê°€ ì œê³µí•˜ëŠ” useRouterë¥¼ import

function porfolioPage() {
  const router = useRouter();
  // router ë³€ìˆ˜ì— ë¼ìš°í„° ê°ì²´ ë°˜í™˜

  console.log(router.query);
  // my-next-app/project/123 ìœ¼ë¡œ ì ‘ì† í›„
  // router.queryë¥¼ ì½˜ì†” ì°ì–´ë³´ë©´
  // {projectid: '123'}
  // ë™ì  ê²½ë¡œ ì„¸ê·¸ë¨¼íŠ¸ì— ëŒ€í•œ ê³ ìœ³ê°’ì— ì ‘ê·¼ ê°€ëŠ¥

  return <h1>The Portfolio Page</h1>;
}

export default porfolioPage;
```

![Alt text](image-2.png)

router ê°ì²´ê°€ ì œê³µí•˜ëŠ” ë°ì´í„° ì¡°ê° ë° ë©”ì„œë“œ

ë§Œì•½ router.queryë¡œ ì–»ì€ í”„ë¡œí¼í‹°ê°€ DBì— ì €ì¥ëœ ê°ì²´ IDë¼ë©´ router.query.projecid ë¼ëŠ” IDë¥¼ í†µí•´ ë°±ì—”ë“œ ì„œë²„ì— ë°ì´í„° ì¡°ê°ì„ íŒ¨ì¹­í•  ìˆ˜ ìˆìŒ

## 6. ì¤‘ì²©ëœ ë™ì  ë¼ìš°íŠ¸ & ê²½ë¡œ êµ¬ì¶•

```jsx
my-next-app/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ about.js
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”œâ”€â”€ index.js // client ëª©ë¡ í˜ì´ì§€
â”‚		â”‚	  â””â”€â”€ [id].js
â”‚   â”‚        â”œâ”€â”€ [clientProjectid].js // client project ìƒì„¸ í˜ì´ì§€
â”‚   â”‚        â””â”€â”€ index.js // client project ëª©ë¡ í˜ì´ì§€
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

ìœ„ ì²˜ëŸ¼ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ êµ¬ì„±í•˜ê³  ê° ì»´í¬ë„ŒíŠ¸ ìƒì„± í›„ my-next-app/clients/ggang/123 ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´

```jsx
// [clientProjectid].js

import { useRouter } from "next/router";

function ClientProjectPage() {
  const router = useRouter();

  console.log(router.query); // router.queryë¥¼ ì½˜ì†” ì°ì–´ë³´ë©´
  // {
  //		id: 'ggang',
  //		clientProjectid: '123'
  //	}
  return <h1>The Project of a Given Client</h1>;
}

export default ClientProjectPage;
```

ì¤‘ì²©ëœ ë™ì  ë¼ìš°íŠ¸ë¼ë„ ê³ ìœ³ê°’ì— ì ‘ê·¼ ê°€ëŠ¥í•¨.

## 7. Catch-All ë¼ìš°íŠ¸

Catch-All ë¼ìš°íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ì–´ë–¤ ê²½ë¡œì´ë©° ì–¼ë§ˆë‚˜ ë§ì€ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°–ëŠ”ì§€ì— ìƒê´€ì—†ì´ ë™ì¼í•œ í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŒ.

í•„í„°ë§í• ë•Œ ìœ ìš©í•¨.

```jsx
my-next-app/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ about.js
â”‚   â”œâ”€â”€ blog
â”‚		â”‚	  â””â”€â”€ [...slug].js
â”‚   â”‚        // ëŒ€ê´„í˜¸ ì•ˆì— '...'ì„ ë¶™ì—¬ íŒŒì¼ì„ ìƒì„± íŒŒì¼ëª…ì€ ììœ ì§€ë§Œ ë°˜ë“œì‹œ '...'ì„ ë¶™ì—¬ì•¼í•¨
â”‚   â”‚
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

ìœ„ ì²˜ëŸ¼ ë””ë ‰í† ë¦¬ë¥¼ êµ¬ì„±í•˜ê³  my-next-app/blog/2023/10 ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´

```jsx
// [...slug].js

import { useRouter } from "next/router";

function BlogPostsPage() {
  const router = useRouter();

  console.log(router.query); // router.queryë¥¼ ì½˜ì†” ì°ì–´ë³´ë©´
  // {slug : ['2023', '10']}
  // ì²˜ëŸ¼ ë°°ì—´ì„ ê°€ì§€ê²Œ ë¨

  return <h1>The Blog Posts</h1>;
}

export default BlogPostsPage;
```

## 8. Link ì»´í¬ë„ŒíŠ¸

```jsx
my-next-app/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ about.js
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚		â”‚	  â””â”€â”€ [id].js
â”‚   â”‚        â”œâ”€â”€ [clientProjectid].js
â”‚   â”‚        â””â”€â”€ index.js
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

Nextì—ì„œ ì œê³µí•˜ëŠ” Link íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ a íƒœê·¸ì™€ ê°™ì€ ë™ì‘ì„ êµ¬í˜„ í•  ìˆ˜ ìˆìŒ.

```jsx
// index.js

import Link from "next/link"; // Link import ì‹œí‚´

function HomePage() {
  return (
    <>
      <h1>The Home Page</h1>
      <ul>
        <li>
          <Link href="/clients" replace>
            Clients
          </Link>
          // herf ì†ì„±ì— ì´ë™í•˜ê³  ì‹¶ì€ ì»´í¬ë„ŒíŠ¸ ì£¼ì†Œ ê¸°ì… // replace í”„ë¡œí¼í‹° ì‚¬ìš©ì‹œ
          ìƒˆë¡œìš´ í˜ì´ì§€ë¥¼ ë˜ ë„ìš°ì§€ ì•Šê³  í˜„ì¬ í˜ì´ì§€ë¥¼ ìƒˆ í˜ì´ì§€ë¡œ ë°”ê¿ˆ. (ë’¤ë¡œê°€ê¸°
          ë§‰ì„ ìˆ˜ ìˆìŒ)
        </li>
      </ul>
    </>
  );
}

export default HomePage;
```

## 9. ë™ì  ë¼ìš°íŠ¸ ë‚´ë¹„ê²Œì´íŒ…

```jsx
my-next-app/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ about.js
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚		â”‚	  â””â”€â”€ [id].js
â”‚   â”‚        â”œâ”€â”€ [clientProjectid].js
â”‚   â”‚        â””â”€â”€ index.js
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

```jsx
// Clients.js

import Link from 'next/link'

function ClientsPage() {
	const clients = [{id : '1', name : 'kang'}, {id : '1', name : 'park'}]

	return (
		<>
			<h1>The Client Page</h1>
			<ul>
				{clients.map(client => (
					<li key={client.id}>
						<Link href=`/clients/${client.id}`>client.name</Link>
					</li>
				))}
			</ul>
		</>
	)
}

export default ClientsPage;
```

## 10. Link href ì„¤ì •í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•

nextì—ì„œëŠ” hrefì— ë¬¸ìì—´ ëŒ€ì‹  ê°ì²´ë¡œ ì£¼ì†Œë¥¼ ì…ë ¥í•  ìˆ˜ ìˆìŒ

```jsx
// Clients.js

import Link from "next/link";

function ClientsPage() {
  const clients = [
    { id: "1", name: "kang" },
    { id: "1", name: "park" },
  ];

  return (
    <>
      <h1>The Client Page</h1>
      <ul>
        {clients.map((client) => (
          <li key={client.id}>
            <Link
              href={{
                pathname: "/clients/[id]",
                query: { id: client.id },
              }}
            >
              client.name
            </Link>
          </li>
        ))}
      </ul>
    </>
  );
}

export default ClientsPage;
```

## 11. ì»¤ìŠ¤í…€ 404 í˜ì´ì§€

nextì—ì„œëŠ” indexì™€ ë§ˆì°¬ê°€ì§€ë¡œ pages í´ë” ì•ˆ ë£¨íŠ¸ ê³„ì¸µì— ìˆëŠ” 404ë¼ëŠ” ì´ë¦„ì˜ íŒŒì¼ëª…ì„ íŠ¹ë³„í•˜ê²Œ ì¸ì‹í•´ í•´ë‹¹ URLë¡œ ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ì‹œ 404 ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•¨

```jsx
my-next-app/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ 404.js // ì ‘ê·¼ ë¶ˆê°€ëŠ¥ ì‹œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ ë°˜í™˜
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚		â”‚	  â””â”€â”€ [id].js
â”‚   â”‚        â”œâ”€â”€ [clientProjectid].js
â”‚   â”‚        â””â”€â”€ index.js
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```
